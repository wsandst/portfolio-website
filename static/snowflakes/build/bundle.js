!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return null==t?"":t}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t){return""===t?null:+t}function w(t,e){t.value=null==e?"":e}let _;function $(t){_=t}function y(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}const b=[],v=[],x=[],C=[],A=Promise.resolve();let S=!1;function L(t){x.push(t)}let R=!1;const k=new Set;function M(){if(!R){R=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];$(e),F(e.$$)}for($(null),b.length=0;v.length;)v.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];k.has(e)||(k.add(e),e())}x.length=0}while(b.length);for(;C.length;)C.pop()();S=!1,R=!1,k.clear()}}function F(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const B=new Set;let E;function P(t,e){t&&t.i&&(B.delete(t),t.i(e))}function z(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),E.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function O(t){t&&t.c()}function j(t,n,i,a){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(n,i),a||L((()=>{const n=c.map(e).filter(o);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(L)}function T(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(b.push(t),S||(S=!0,A.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(e,o,i,a,s,c,u,f=[-1]){const p=_;$(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||p.$$.root};u&&u(d.root);let m=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),m&&U(e,t)),n})):[],d.update(),m=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(l)}else d.fragment&&d.fragment.c();o.intro&&P(e.$$.fragment),j(e,o.target,o.anchor,o.customElement),M()}$(p)}class I{$destroy(){T(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var H=1e-6,N="undefined"!=typeof Float32Array?Float32Array:Array;function Y(){var t=new N(16);return N!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var D,W=function(t,e,n,r,o,i,a){var s=1/(e-n),c=1/(r-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*c,t[14]=(a+i)*l,t[15]=1,t};function q(t,e,n,r,o,i,a,s){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.canvas.clientWidth,t.canvas.clientHeight;const c=Y();W(c,0,s[0],0,s[1],.1,100);const l=Y();!function(t,e,n,r){var o,i,a,s,c,l,u,f,p,d,m=e[0],h=e[1],g=e[2],w=r[0],_=r[1],$=r[2],y=n[0],b=n[1],v=n[2];Math.abs(m-y)<H&&Math.abs(h-b)<H&&Math.abs(g-v)<H?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(t):(u=m-y,f=h-b,p=g-v,o=_*(p*=d=1/Math.hypot(u,f,p))-$*(f*=d),i=$*(u*=d)-w*p,a=w*f-_*u,(d=Math.hypot(o,i,a))?(o*=d=1/d,i*=d,a*=d):(o=0,i=0,a=0),s=f*a-p*i,c=p*o-u*a,l=u*i-f*o,(d=Math.hypot(s,c,l))?(s*=d=1/d,c*=d,l*=d):(s=0,c=0,l=0),t[0]=o,t[1]=s,t[2]=u,t[3]=0,t[4]=i,t[5]=c,t[6]=f,t[7]=0,t[8]=a,t[9]=l,t[10]=p,t[11]=0,t[12]=-(o*m+i*h+a*g),t[13]=-(s*m+c*h+l*g),t[14]=-(u*m+f*h+p*g),t[15]=1)}(l,[0,0,6],[0,0,0],[0,1,0]),function(t,e,n){var r,o,i,a,s,c,l,u,f,p,d,m,h=n[0],g=n[1],w=n[2];e===t?(t[12]=e[0]*h+e[4]*g+e[8]*w+e[12],t[13]=e[1]*h+e[5]*g+e[9]*w+e[13],t[14]=e[2]*h+e[6]*g+e[10]*w+e[14],t[15]=e[3]*h+e[7]*g+e[11]*w+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=e[8],p=e[9],d=e[10],m=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=c,t[6]=l,t[7]=u,t[8]=f,t[9]=p,t[10]=d,t[11]=m,t[12]=r*h+s*g+f*w+e[12],t[13]=o*h+c*g+p*w+e[13],t[14]=i*h+l*g+d*w+e[14],t[15]=a*h+u*g+m*w+e[15])}(l,l,[o[0],o[1],0]),function(t,e,n){var r=n[0],o=n[1],i=n[2];t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(l,l,[i,i,0]);{const r=2,o=t.FLOAT,i=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,r,o,i,a,s),t.enableVertexAttribArray(e.attribLocations.vertexPosition)}{const r=4,o=t.FLOAT,i=!1,a=0,s=0;t.bindBuffer(t.ARRAY_BUFFER,n.color),t.vertexAttribPointer(e.attribLocations.vertexColor,r,o,i,a,s),t.enableVertexAttribArray(e.attribLocations.vertexColor)}t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,c),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,l),t.uniform4fv(e.uniformLocations.hexColor,a),t.drawArrays(t.TRIANGLES,0,r)}function X(t,e,n){t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}function G(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}D=new N(3),N!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0);function K(e){let n,r,o;return{c(){n=u("canvas"),h(n,"class","svelte-1e74k2u")},m(t,i){c(t,n,i),e[7](n),r||(o=m(n,"mousewheel",e[1]),r=!0)},p:t,i:t,o:t,d(t){t&&l(n),e[7](null),r=!1,o()}}}function J(t,e,n){let r,o,i,a,s,c,l=0;const u=[.5,.82,.96,1];let f=[0,0],p=1;function d(){r.width==r.getBoundingClientRect().width&&r.height==r.getBoundingClientRect().height||m(),q(o,s,a,l,f,p,u,[r.width,r.height])}function m(){n(0,r.width=r.getBoundingClientRect().width,r),n(0,r.height=r.getBoundingClientRect().height,r),p=(r.width-10)/(c*Math.sqrt(3)),f=[5,35],o.viewport(0,0,r.width,r.height)}return y((()=>{n(0,r.width=r.getBoundingClientRect().width,r),n(0,r.height=r.getBoundingClientRect().height,r),o=r.getContext("webgl",{antialias:!0}),i=function(t,e,n){const r=G(t,t.VERTEX_SHADER,e),o=G(t,t.FRAGMENT_SHADER,n),i=t.createProgram();return t.attachShader(i,r),t.attachShader(i,o),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?i:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(i)),null)}(o,"attribute vec4 aVertexPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform vec4 hexColor;\n\nvarying lowp vec4 vColor;\n\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vColor = aVertexColor * hexColor;\n}","\nvarying lowp vec4 vColor;\n\nvoid main() {\n    gl_FragColor = vColor;\n}"),s={program:i,attribLocations:{vertexPosition:o.getAttribLocation(i,"aVertexPosition"),vertexColor:o.getAttribLocation(i,"aVertexColor")},uniformLocations:{projectionMatrix:o.getUniformLocation(i,"uProjectionMatrix"),modelViewMatrix:o.getUniformLocation(i,"uModelViewMatrix"),hexColor:o.getUniformLocation(i,"hexColor")}},a=function(t){return{position:t.createBuffer(),color:t.createBuffer()}}(o)})),[r,function(t){let e=t.offsetX/p+f[0],n=(r.width-t.offsetY)/p+f[1],o=-.001*t.deltaY,i=p+p*o,a=i-p;p=i,f=[-e*a,-n*a],d()},function(t){X(o,a.position,t),l=t.length/2},function(t){X(o,a.color,t)},function(t,e){c=t,m()},d,function(){n(0,r.width=2e3,r),n(0,r.height=2e3,r),p=(r.width-10)/(c*Math.sqrt(3)),f=[5,35],o.viewport(0,0,r.width,r.height),q(o,s,a,l,f,p,u,[r.width,r.height]);var t=document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0);let e=t.toDataURL("image/png");var i=window.open();i.document.body.innerHTML='<img src="'+e+'" width="1000px" height="1000px"></img>',i.document.body.style.backgroundColor="#202020",m(),d()},function(t){v[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Q extends I{constructor(t){super(),V(this,t,J,K,i,{updatePositionBuffer:2,updateColorBuffer:3,setSimSize:4,renderFrame:5,screenshot:6})}get updatePositionBuffer(){return this.$$.ctx[2]}get updateColorBuffer(){return this.$$.ctx[3]}get setSimSize(){return this.$$.ctx[4]}get renderFrame(){return this.$$.ctx[5]}get screenshot(){return this.$$.ctx[6]}}const Z=parseFloat;function tt(t,e=";"){let n;if(Array.isArray(t))n=t.filter((t=>t));else{n=[];for(const e in t)t[e]&&n.push(`${e}:${t[e]}`)}return n.join(e)}function et(t){let e,n,r,o,i,u,p;function d(t,e){return"string"==typeof t[7][4]?rt:nt}let m=d(t),g=m(t);return{c(){e=f("svg"),n=f("g"),r=f("g"),g.c(),h(r,"transform",t[10]),h(n,"transform",o=`translate(${t[7][0]/2} ${t[7][1]/2})`),h(n,"transform-origin",i=t[7][0]/4+" 0"),h(e,"id",t[0]),h(e,"class",u=a(t[8])+" svelte-1cj2gr0"),h(e,"style",t[9]),h(e,"viewBox",p=`0 0 ${t[7][0]} ${t[7][1]}`),h(e,"aria-hidden","true"),h(e,"role","img"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){c(t,e,o),s(e,n),s(n,r),g.m(r,null)},p(t,s){m===(m=d(t))&&g?g.p(t,s):(g.d(1),g=m(t),g&&(g.c(),g.m(r,null))),1024&s&&h(r,"transform",t[10]),128&s&&o!==(o=`translate(${t[7][0]/2} ${t[7][1]/2})`)&&h(n,"transform",o),128&s&&i!==(i=t[7][0]/4+" 0")&&h(n,"transform-origin",i),1&s&&h(e,"id",t[0]),256&s&&u!==(u=a(t[8])+" svelte-1cj2gr0")&&h(e,"class",u),512&s&&h(e,"style",t[9]),128&s&&p!==(p=`0 0 ${t[7][0]} ${t[7][1]}`)&&h(e,"viewBox",p)},d(t){t&&l(e),g.d()}}}function nt(t){let e,n,r,o,i,a,s,u,p,d;return{c(){e=f("path"),a=f("path"),h(e,"d",n=t[7][4][0]),h(e,"fill",r=t[3]||t[1]||"currentColor"),h(e,"fill-opacity",o=0!=t[6]?t[4]:t[5]),h(e,"transform",i=`translate(${t[7][0]/-2} ${t[7][1]/-2})`),h(a,"d",s=t[7][4][1]),h(a,"fill",u=t[2]||t[1]||"currentColor"),h(a,"fill-opacity",p=0!=t[6]?t[5]:t[4]),h(a,"transform",d=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)},m(t,n){c(t,e,n),c(t,a,n)},p(t,c){128&c&&n!==(n=t[7][4][0])&&h(e,"d",n),10&c&&r!==(r=t[3]||t[1]||"currentColor")&&h(e,"fill",r),112&c&&o!==(o=0!=t[6]?t[4]:t[5])&&h(e,"fill-opacity",o),128&c&&i!==(i=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)&&h(e,"transform",i),128&c&&s!==(s=t[7][4][1])&&h(a,"d",s),6&c&&u!==(u=t[2]||t[1]||"currentColor")&&h(a,"fill",u),112&c&&p!==(p=0!=t[6]?t[5]:t[4])&&h(a,"fill-opacity",p),128&c&&d!==(d=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)&&h(a,"transform",d)},d(t){t&&l(e),t&&l(a)}}}function rt(t){let e,n,r,o;return{c(){e=f("path"),h(e,"d",n=t[7][4]),h(e,"fill",r=t[1]||t[2]||"currentColor"),h(e,"transform",o=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)},m(t,n){c(t,e,n)},p(t,i){128&i&&n!==(n=t[7][4])&&h(e,"d",n),6&i&&r!==(r=t[1]||t[2]||"currentColor")&&h(e,"fill",r),128&i&&o!==(o=`translate(${t[7][0]/-2} ${t[7][1]/-2})`)&&h(e,"transform",o)},d(t){t&&l(e)}}}function ot(e){let n,r=e[7][4]&&et(e);return{c(){r&&r.c(),n=p("")},m(t,e){r&&r.m(t,e),c(t,n,e)},p(t,[e]){t[7][4]?r?r.p(t,e):(r=et(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&l(n)}}}function it(t,e,n){let r,o,i,a,{class:s=""}=e,{id:c=""}=e,{style:l=""}=e,{icon:u}=e,{size:f=""}=e,{color:p=""}=e,{fw:d=!1}=e,{pull:m=""}=e,{scale:h=1}=e,{translateX:g=0}=e,{translateY:w=0}=e,{rotate:_=""}=e,{flip:$=!1}=e,{spin:y=!1}=e,{pulse:b=!1}=e,{primaryColor:v=""}=e,{secondaryColor:x=""}=e,{primaryOpacity:C=1}=e,{secondaryOpacity:A=.4}=e,{swapOpacity:S=!1}=e;return t.$$set=t=>{"class"in t&&n(11,s=t.class),"id"in t&&n(0,c=t.id),"style"in t&&n(12,l=t.style),"icon"in t&&n(13,u=t.icon),"size"in t&&n(14,f=t.size),"color"in t&&n(1,p=t.color),"fw"in t&&n(15,d=t.fw),"pull"in t&&n(16,m=t.pull),"scale"in t&&n(17,h=t.scale),"translateX"in t&&n(18,g=t.translateX),"translateY"in t&&n(19,w=t.translateY),"rotate"in t&&n(20,_=t.rotate),"flip"in t&&n(21,$=t.flip),"spin"in t&&n(22,y=t.spin),"pulse"in t&&n(23,b=t.pulse),"primaryColor"in t&&n(2,v=t.primaryColor),"secondaryColor"in t&&n(3,x=t.secondaryColor),"primaryOpacity"in t&&n(4,C=t.primaryOpacity),"secondaryOpacity"in t&&n(5,A=t.secondaryOpacity),"swapOpacity"in t&&n(6,S=t.swapOpacity)},t.$$.update=()=>{8192&t.$$.dirty&&n(7,r=u&&u.icon||[0,0,"",[],""]),12584960&t.$$.dirty&&n(8,o=tt([s,"svelte-fa",y&&"spin",b&&"pulse"]," ")),118784&t.$$.dirty&&n(9,i=function(t,e,n,r){let o,i,a,s,c,l="-.125em";return r&&(c="center",i="1.25em"),n&&(o=n),e&&("lg"==e?(s="1.33333em",a=".75em",l="-.225em"):s="xs"==e?".75em":"sm"==e?".875em":e.replace("x","em")),tt([tt({float:o,width:i,height:"1em","line-height":a,"font-size":s,"text-align":c,"vertical-align":l,"transform-origin":"center",overflow:"visible"}),t])}(l,f,m,d)),4063232&t.$$.dirty&&n(10,a=function(t,e,n,r,o,i=1,a="",s=""){let c=1,l=1;return o&&("horizontal"==o?c=-1:"vertical"==o?l=-1:c=l=-1),tt([`translate(${Z(e)*i}${a},${Z(n)*i}${a})`,`scale(${c*Z(t)},${l*Z(t)})`,r&&`rotate(${r}${s})`]," ")}(h,g,w,_,$,512))},[c,p,v,x,C,A,S,r,o,i,a,s,l,u,f,d,m,h,g,w,_,$,y,b]}class at extends I{constructor(t){super(),V(this,t,it,ot,i,{class:11,id:0,style:12,icon:13,size:14,color:1,fw:15,pull:16,scale:17,translateX:18,translateY:19,rotate:20,flip:21,spin:22,pulse:23,primaryColor:2,secondaryColor:3,primaryOpacity:4,secondaryOpacity:5,swapOpacity:6})}}
/*!
     * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var st={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},ct={prefix:"fas",iconName:"pause",icon:[448,512,[],"f04c","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"]},lt={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]};function ut(e){let n,r;return n=new at({props:{icon:ct,size:"1.5x",color:"white"}}),{c(){O(n.$$.fragment)},m(t,e){j(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){T(n,t)}}}function ft(e){let n,r;return n=new at({props:{icon:lt,size:"1.5x",color:"white"}}),{c(){O(n.$$.fragment)},m(t,e){j(n,t,e),r=!0},p:t,i(t){r||(P(n.$$.fragment,t),r=!0)},o(t){z(n.$$.fragment,t),r=!1},d(t){T(n,t)}}}function pt(t){let e,n,i,a,f,_,$,y,b,v,x,C,A,S,L,R,k,M,F,B,U,V,I,H,N,Y,D,W,q;M=new Q({props:{}}),t[12](M);const X=[ft,ut],G=[];function K(t,e){return t[4]?1:0}return V=K(t),I=G[V]=X[V](t),Y=new at({props:{icon:st,size:"1.5x",color:"white"}}),{c(){e=d(),n=u("main"),i=u("div"),a=u("div"),f=u("div"),_=p("Iteration: "),$=p(t[5]),y=d(),b=u("div"),v=u("nobr"),x=p("α: "),C=u("input"),A=p("    \n\t\t\t\t\tβ: "),S=u("input"),L=p("\n\t\t\t\t\tγ: "),R=u("input"),k=d(),O(M.$$.fragment),F=d(),B=u("div"),U=u("button"),I.c(),H=d(),N=u("button"),O(Y.$$.fragment),document.title="Snowflake Simulation",h(C,"type","number"),h(C,"class","svelte-1ujn8gi"),h(S,"type","number"),h(S,"class","svelte-1ujn8gi"),h(R,"type","number"),h(R,"class","svelte-1ujn8gi"),h(a,"id","siminfo"),h(a,"class","svelte-1ujn8gi"),h(U,"class","svelte-1ujn8gi"),h(N,"class","svelte-1ujn8gi"),h(i,"id","column"),h(i,"class","svelte-1ujn8gi"),h(n,"class","svelte-1ujn8gi")},m(r,l){c(r,e,l),c(r,n,l),s(n,i),s(i,a),s(a,f),s(f,_),s(f,$),s(a,y),s(a,b),s(b,v),s(v,x),s(v,C),w(C,t[0]),s(v,A),s(v,S),w(S,t[1]),s(v,L),s(v,R),w(R,t[2]),s(i,k),j(M,i,null),s(i,F),s(i,B),s(B,U),G[V].m(U,null),s(B,H),s(B,N),j(Y,N,null),D=!0,W||(q=[m(C,"input",t[9]),m(S,"input",t[10]),m(R,"input",t[11]),m(U,"click",t[6]),m(N,"click",(function(){o(t[3].screenshot())&&t[3].screenshot().apply(this,arguments)}))],W=!0)},p(e,[n]){t=e,(!D||32&n)&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}($,t[5]),1&n&&g(C.value)!==t[0]&&w(C,t[0]),2&n&&g(S.value)!==t[1]&&w(S,t[1]),4&n&&g(R.value)!==t[2]&&w(R,t[2]);M.$set({});let o=V;V=K(t),V===o?G[V].p(t,n):(E={r:0,c:[],p:E},z(G[o],1,1,(()=>{G[o]=null})),E.r||r(E.c),E=E.p,I=G[V],I?I.p(t,n):(I=G[V]=X[V](t),I.c()),P(I,1),I.m(U,null))},i(t){D||(P(M.$$.fragment,t),P(I),P(Y.$$.fragment,t),D=!0)},o(t){z(M.$$.fragment,t),z(I),z(Y.$$.fragment,t),D=!1},d(o){o&&l(e),o&&l(n),t[12](null),T(M),G[V].d(),T(Y),W=!1,r(q)}}}function dt(t,e,n){let r,o,{snowflakeSimLib:i}=e,a=!1,s=0,c=100,l=100,u=1,f=.4,p=1e-4;function d(){o.renderFrame(),r.step_simulation(),r.update_vertex_colors(),o.updateColorBuffer(r.get_vertex_colors()),n(5,s+=1),a&&requestAnimationFrame(d)}return y((()=>{!function(){const t=new URLSearchParams(location.search);if(null!=t.get("size")){let e=t.get("size").split("x");c=e[0],l=e[1]}}(),n(8,r=i.SnowflakeSimContext.new(c,l,u,f,p)),r.set_cell(c/2+1,l/2,1),r.step_simulation(),r.create_vertex_positions(),r.update_vertex_colors(),o.setSimSize(c,l),o.updatePositionBuffer(r.get_vertex_positions()),o.updateColorBuffer(r.get_vertex_colors()),d()})),t.$$set=t=>{"snowflakeSimLib"in t&&n(7,i=t.snowflakeSimLib)},t.$$.update=()=>{257&t.$$.dirty&&r&&r.set_alpha(u),258&t.$$.dirty&&r&&r.set_beta(f),260&t.$$.dirty&&r&&r.set_gamma(p)},[u,f,p,o,a,s,function(){n(4,a=!a),a&&requestAnimationFrame(d)},i,r,function(){u=g(this.value),n(0,u)},function(){f=g(this.value),n(1,f)},function(){p=g(this.value),n(2,p)},function(t){v[t?"unshift":"push"]((()=>{o=t,n(3,o)}))}]}class mt extends I{constructor(t){super(),V(this,t,dt,pt,i,{snowflakeSimLib:7})}}let ht;const gt=new Array(32).fill(void 0);function wt(t){return gt[t]}gt.push(void 0,null,!0,!1);let _t=gt.length;function $t(t){const e=wt(t);return function(t){t<36||(gt[t]=_t,_t=t)}(t),e}let yt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});yt.decode();let bt=null;function vt(t,e){return yt.decode((null!==bt&&bt.buffer===ht.memory.buffer||(bt=new Uint8Array(ht.memory.buffer)),bt).subarray(t,t+e))}function xt(t){_t===gt.length&&gt.push(gt.length+1);const e=_t;return _t=gt[e],gt[e]=t,e}class Ct{static __wrap(t){const e=Object.create(Ct.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ht.__wbg_snowflakesimcontext_free(t)}static new(t,e,n,r,o){var i=ht.snowflakesimcontext_new(t,e,n,r,o);return Ct.__wrap(i)}set_cell(t,e,n){ht.snowflakesimcontext_set_cell(this.ptr,t,e,n)}step_simulation(){ht.snowflakesimcontext_step_simulation(this.ptr)}create_vertex_positions(){ht.snowflakesimcontext_create_vertex_positions(this.ptr)}get_vertex_count(){return ht.snowflakesimcontext_get_vertex_count(this.ptr)>>>0}update_vertex_colors(){ht.snowflakesimcontext_update_vertex_colors(this.ptr)}get_vertex_positions(){return $t(ht.snowflakesimcontext_get_vertex_positions(this.ptr))}get_vertex_colors(){return $t(ht.snowflakesimcontext_get_vertex_colors(this.ptr))}set_alpha(t){ht.snowflakesimcontext_set_alpha(this.ptr,t)}set_beta(t){ht.snowflakesimcontext_set_beta(this.ptr,t)}set_gamma(t){ht.snowflakesimcontext_set_gamma(this.ptr,t)}}async function At(t){void 0===t&&(t=new URL("index_bg.wasm",document.currentScript&&document.currentScript.src||new URL("bundle.js",document.baseURI).href));const e={wbg:{}};e.wbg.__wbindgen_object_drop_ref=function(t){$t(t)},e.wbg.__wbg_buffer_397eaa4d72ee94dd=function(t){return xt(wt(t).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_8bd669b4092b7244=function(t,e,n){return xt(new Float32Array(wt(t),e>>>0,n>>>0))},e.wbg.__wbg_new_8b45a9becdb89691=function(t){return xt(new Float32Array(wt(t)))},e.wbg.__wbindgen_throw=function(t,e){throw new Error(vt(t,e))},e.wbg.__wbindgen_memory=function(){return xt(ht.memory)},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,e);return ht=n.exports,At.__wbindgen_wasm_module=r,ht}var St=Object.freeze({__proto__:null,SnowflakeSimContext:Ct,default:At});(async()=>{const t=await(async(t={})=>{let{importHook:e,serverPath:n}=t,r="./build/assets/snowflake-sim-d0da37f9.wasm";return null!=n&&(r=n+/[^\/\\]*$/.exec(r)[0]),null!=e&&(r=e(r)),await At(r),St})();new mt({target:document.body,props:{snowflakeSimLib:t}})})()}();
//# sourceMappingURL=bundle.js.map
